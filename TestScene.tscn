[gd_scene load_steps=35 format=2]

[ext_resource path="res://gfx/Dirt.glb" type="PackedScene" id=1]
[ext_resource path="res://gfx/Trex.glb" type="PackedScene" id=2]
[ext_resource path="res://Character.gd" type="Script" id=3]
[ext_resource path="res://gfx/Tree.glb" type="PackedScene" id=4]
[ext_resource path="res://gfx/Cliff.glb" type="PackedScene" id=5]
[ext_resource path="res://gfx/Chest.glb" type="PackedScene" id=6]
[ext_resource path="res://StaticChest.gd" type="Script" id=7]
[ext_resource path="res://save/GameSaver.tscn" type="PackedScene" id=8]
[ext_resource path="res://TestScene.gd" type="Script" id=9]
[ext_resource path="res://Water.shader" type="Shader" id=13]
[ext_resource path="res://StaticBin.gd" type="Script" id=14]
[ext_resource path="res://StaticShop.gd" type="Script" id=15]
[ext_resource path="res://gfx/Fish.glb" type="PackedScene" id=16]
[ext_resource path="res://SpatialFish.gd" type="Script" id=17]
[ext_resource path="res://StaticBait.gd" type="Script" id=18]

[sub_resource type="BoxShape" id=6]
extents = Vector3( 0.460814, 0.497213, 0.542647 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 1, 0.892338, 1 )

[sub_resource type="BoxShape" id=1]
extents = Vector3( 14.4507, 1, 15.667 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 0.637293, 1, 0.715345 )

[sub_resource type="BoxShape" id=4]
extents = Vector3( 7.41119, 4.77839, 3.95122 )

[sub_resource type="ShaderMaterial" id=10]
shader = ExtResource( 13 )
shader_param/out_color = Color( 0, 0.2, 1, 1 )
shader_param/amount = 0.2
shader_param/beer_factor = 1.073

[sub_resource type="PlaneMesh" id=8]
material = SubResource( 10 )
size = Vector2( 5, 20 )
subdivide_width = 3
subdivide_depth = 3

[sub_resource type="BoxShape" id=11]
extents = Vector3( 2.12465, 5.58921, 9.72563 )

[sub_resource type="BoxShape" id=12]
extents = Vector3( 1.0946, 16.7698, 25.3513 )

[sub_resource type="BoxShape" id=5]
extents = Vector3( 0.415165, 0.334346, 0.406846 )

[sub_resource type="BoxShape" id=7]
extents = Vector3( 0.264449, 0.230816, 0.316052 )

[sub_resource type="BoxShape" id=13]
extents = Vector3( 0.450746, 0.594694, 0.525791 )

[sub_resource type="BoxShape" id=14]
extents = Vector3( 0.355825, 0.53376, 0.412701 )

[sub_resource type="CapsuleMesh" id=15]

[sub_resource type="CapsuleMesh" id=16]

[sub_resource type="SphereShape" id=17]
radius = 3.26629

[sub_resource type="SphereShape" id=18]
radius = 1.42395

[sub_resource type="SphereShape" id=19]
radius = 0.245584

[sub_resource type="CapsuleMesh" id=20]

[node name="TestScene" type="Spatial" groups=[
"save",
]]
script = ExtResource( 9 )

[node name="GameSaver" parent="." instance=ExtResource( 8 )]

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.87394, 3.63377, 0 )
light_color = Color( 0.862745, 0.662745, 0.376471, 1 )
shadow_enabled = true
omni_range = 50.0

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.976635, 0.214906, 0, -0.214906, 0.976635, 1.36024, 4.27465, 13.7618 )
current = true
fov = 50.0
near = 0.01
far = 70.0
target = NodePath("../Character/CameraTarget")
speed = 2.5
enabled = true

[node name="Character" type="KinematicBody" parent="." groups=[
"save",
]]
collision_layer = 2
script = ExtResource( 3 )

[node name="Trex" parent="Character" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.97154, -2.3131, -1.09857 )

[node name="KinematicBody" type="KinematicBody" parent="Character/Trex"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.97154, 2.3131, 1.09857 )
collision_layer = 0
collision_mask = 16

[node name="CollisionShape" type="CollisionShape" parent="Character/Trex/KinematicBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.98981, 1.89489, -0.188806 )
shape = SubResource( 6 )
disabled = true

[node name="CameraTarget" type="Spatial" parent="Character"]
transform = Transform( 1, 0, 0, 0, 0.837089, 0.547067, 0, -0.547067, 0.837089, 2.781, 5.46648, 4.81236 )

[node name="CollisionShape" type="CollisionShape" parent="Character"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.93078, 1.8988, -1.16193 )
shape = SubResource( 2 )

[node name="Timer" type="Timer" parent="Character"]

[node name="FloorDirt" type="StaticBody" parent="."]
collision_mask = 0

[node name="Dirt" parent="FloorDirt" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -12.7533, -1.33088, 1.42048 )

[node name="CollisionShape" type="CollisionShape" parent="FloorDirt"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.70708, 0, -0.677635 )
shape = SubResource( 1 )

[node name="StaticTree" type="StaticBody" parent="."]
collision_mask = 0

[node name="Tree" parent="StaticTree" instance=ExtResource( 4 )]
transform = Transform( 0.4983, 0.041174, 0.00132775, -0.0411954, 0.498041, 0.0160605, -2.79397e-09, -0.0161153, 0.49974, -3.64926, 0.188092, -0.108169 )

[node name="CollisionShape" type="CollisionShape" parent="StaticTree"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.127482, 1.39501, -0.157966 )
shape = SubResource( 3 )

[node name="StaticCliff" type="StaticBody" parent="."]
transform = Transform( 1.97111, 0, 0, 0, 1, 0, 0, 0, 2.69906, -1.08803, 0, 25.6511 )
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="StaticCliff"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.83137, 3.78093, -17.8208 )
shape = SubResource( 4 )

[node name="Cliff" parent="StaticCliff" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.23837, -0.72758, -7.04201 )

[node name="StaticSea" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.53338, 0, 0 )

[node name="Sea" type="MeshInstance" parent="StaticSea"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.8515, -0.151991, -3.39523 )
mesh = SubResource( 8 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="StaticSea"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.7661, 3.57615, -3.52005 )
shape = SubResource( 11 )

[node name="StaticInvisibleWall" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticInvisibleWall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -13.0271, 1.25932, -9.01823 )
shape = SubResource( 12 )

[node name="StaticInvisibleWall2" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticInvisibleWall2"]
transform = Transform( -0.0181331, 0, 0.999836, 0, 1, 0, -0.999836, 0, -0.0181331, -0.0428877, 1.25932, 12.6876 )
shape = SubResource( 12 )

[node name="StaticInvisibleWall3" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticInvisibleWall3"]
transform = Transform( -0.743915, 0, 0.668274, 0, 1, 0, -0.668274, 0, -0.743915, 20.3444, 1.25932, 2.2021 )
shape = SubResource( 12 )

[node name="StaticChest" type="StaticBody" parent="." groups=[
"save",
]]
transform = Transform( 0.0988334, 0, -0.995104, 0, 1, 0, 0.995104, 0, 0.0988334, 6.5272, 0.101134, -10.5905 )
collision_mask = 0
script = ExtResource( 7 )

[node name="Chest" parent="StaticChest" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.33811, -2.42966, 1.9283 )

[node name="CollisionShape" type="CollisionShape" parent="StaticChest"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.86782, 1.25322, -0.344907 )
shape = SubResource( 5 )

[node name="Area" type="Area" parent="StaticChest"]
collision_layer = 16
collision_mask = 2147483648

[node name="CollisionShape" type="CollisionShape" parent="StaticChest/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.24634, 1.3237, -0.37635 )
shape = SubResource( 7 )

[node name="StaticBin" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.6172 )
collision_mask = 0
script = ExtResource( 14 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBin"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.78019, -5.57876 )
shape = SubResource( 13 )

[node name="Area" type="Area" parent="StaticBin"]
collision_layer = 16
collision_mask = 2147483648

[node name="CollisionShape" type="CollisionShape" parent="StaticBin/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.013274, 1.72079, -5.62444 )
shape = SubResource( 14 )

[node name="MeshInstance" type="MeshInstance" parent="StaticBin"]
transform = Transform( 0.404135, -0.0181976, -0.00195376, 0.00139799, 0.0800606, -0.456523, 0.0174327, 0.380154, 0.0651294, 0, 1.72775, -5.58771 )
mesh = SubResource( 15 )
material/0 = null

[node name="StaticShop" type="StaticBody" parent="."]
transform = Transform( 0.0988334, 0, -0.995104, 0, 1, 0, 0.995104, 0, 0.0988334, 3.87369, 0.101134, -6.9723 )
collision_mask = 0
script = ExtResource( 15 )

[node name="CollisionShape" type="CollisionShape" parent="StaticShop"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0146537, 1.70022, 0.24458 )
shape = SubResource( 5 )

[node name="Area" type="Area" parent="StaticShop"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.88247, 0.446999, 0.589488 )
collision_layer = 16
collision_mask = 2147483648

[node name="CollisionShape" type="CollisionShape" parent="StaticShop/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.86033, 1.3237, -0.35132 )
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="StaticShop"]
transform = Transform( -4.88762e-08, 0.3, -4.88762e-08, 0, -4.88762e-08, -0.3, -0.3, -4.88762e-08, 7.96294e-15, -0.0236864, 1.63673, 0.238489 )
mesh = SubResource( 16 )
material/0 = null

[node name="SpatialFish" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 19.9964, 0, -0.00847852 )
script = ExtResource( 17 )

[node name="Fish" parent="SpatialFish" instance=ExtResource( 16 )]
transform = Transform( -1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, 8.98766, -2.55138, 0.69331 )

[node name="Fish" parent="SpatialFish/Fish" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19209e-07, 0, -0.70945 )

[node name="AnimationPlayer" parent="SpatialFish/Fish" index="1"]
autoplay = "Static"

[node name="FishView" type="Area" parent="SpatialFish"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape" type="CollisionShape" parent="SpatialFish/FishView"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0516949, 0, -0.598196 )
shape = SubResource( 17 )

[node name="PredatorView" type="Area" parent="SpatialFish"]
collision_layer = 0
collision_mask = 2147483680

[node name="CollisionShape" type="CollisionShape" parent="SpatialFish/PredatorView"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0199871, 0, -0.898473 )
shape = SubResource( 18 )

[node name="Timer" type="Timer" parent="SpatialFish"]

[node name="StaticBait" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18.4487, -0.0741369, -4.03749 )
collision_layer = 32
collision_mask = 2147483648
script = ExtResource( 18 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBait"]
shape = SubResource( 19 )

[node name="MeshInstance" type="MeshInstance" parent="StaticBait"]
transform = Transform( 0.1, 0, 0, 0, -0.00174175, -0.0999848, 0, 0.0999848, -0.00174175, 0, 0, 0 )
mesh = SubResource( 20 )
material/0 = null
[connection signal="timeout" from="Character/Timer" to="Character" method="_on_Timer_timeout"]
[connection signal="body_entered" from="StaticChest/Area" to="StaticChest" method="_on_Area_body_entered"]
[connection signal="body_entered" from="StaticBin/Area" to="StaticBin" method="_on_Area_body_entered"]
[connection signal="body_entered" from="StaticShop/Area" to="StaticShop" method="_on_Area_body_entered"]
[connection signal="body_entered" from="SpatialFish/FishView" to="SpatialFish" method="_on_FishView_body_entered"]
[connection signal="body_entered" from="SpatialFish/PredatorView" to="SpatialFish" method="_on_PredatorView_body_entered"]

[editable path="Character/Trex"]

[editable path="StaticChest/Chest"]

[editable path="SpatialFish/Fish"]
